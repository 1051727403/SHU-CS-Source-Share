# Flask

大家好，我是第八小组的胡才郁，今天我和大家分享的主题是Flask。

Flask是由python语言开发的Web框架，在讲Flask之前，我先介绍一下什么是Web框架**(翻页)**

## Web框架

Web网站发展至今，特别是服务器端，涉及到的知识、内容，非常广泛。这对程序员的要求会越来越高。如果采用成熟的框架，那么一些基础的工作，比如，网络操作、数据库访问、会话管理等都可以让框架来处理，那么程序开发人员可以把精力放在具体的业务逻辑上面。使用Web框架应用程序可以降低开发难度，提高开发效率。

总结一句话就是：避免重复造轮子。**(翻页)**

## Flask

Flask是一个可定制的Web框架，轻巧、简洁，通过定制第三方扩展来实现具体功能。并且许多IDE都对Flask有良好的支持，比如这张图就是Pycharm中新建项目时的窗口，你在这个地方就可以选Flask。顺便提一下，有很多同学都在做机器学习深度学习嘛，用Pycharm的时候可以选这张图上的那个Scientific科学模式，之后Pycharm会自动帮助创建规范工程目录结构。**(翻页)**

## 轻量级

为什么说Flask是一个轻量级的框架呢，最直观的就是它可以只用用10行python代码搭建一个web后端服务器。比如这张图，10行代码就可以实现Flask的Hello Wolrd。**(翻页)**

再比如路由传参，这里利用Python的装饰器很容易就搭建了一个路由，这里我在浏览器端输入自己的学号20121034，服务器端就会有相应的反馈。**(翻页)**

## 数据库支持

Flask连接数据库也是很简单的，只需要配置一下本地或者远程服务器中数据库的URL就可以了。Web应用中普遍使用的是关系模型的数据库，关系型数据库把所有的数据都存储在表中，表用来给应用的实体建模，表的列数是固定的，行数是可变的。它使用结构化的查询语言。**(翻页)**

## 数据库支持

Flask的扩展也提供了ORM支持，说人话就是在访问数据库的时候就可以不用写SQL语句了，直接调用对象中的方法。例如要查找用户表中学号为2的学生，如果写SQL语句的话就要从User表之中select一些字段，并且加上条件查询where,但是使用ORM的话就可以直接调用对象中的方法完成。**(翻页)**

Flask-SQLalchemy的扩展做的还是挺全的，例如可以将数据库中的数据类型与python的数据类型直接映射,比如数据库中的text与String数据类型都映射为了Python中的String**(翻页)**,并且对于数据表中的主键、外键这些映射也做了支持。再比如图中的排序Order_by等等。**(翻页)**

## ORM操作

下面我就对ORM操作举个例子，创建Role类与User类，在两个类中配置与数据库中表的映射，比如这里User表中,name属性就和数据库中String(64)的字段相互映射，并且设置为唯一，且为索引。再比如下面的role_id就设置为了外键，并且与Role表的主键roles_id关联。**(翻页)**

##增删改查

之后就是一些增删改查的操作，由于大家现在还没有上过数据库这门课，我就简单过一下。Flask做最基本的增删改查也是很方便的。创建表，创建记录，删除表，删除记录的一些api都在图上。**(翻页)**数据库增删改查中查找的操作是最多最复杂的，Flask的ORM支持也可以满足像模糊查询，主键查询等功能。**(翻页)**

## 夹带私货

最后呢，我夹带一些个人私货，或者说使用Flask的心得，因为大家现在接触的Web项目并不多，关于前面提到的那些API，用到的时候到网上查就好了，我更想分享一下我Flask使用的心得。

因为我之前写Web项目的话，Java的Springboot用的比较多，为了Python的大作业我去学的Flask,但是体验下来我觉得是没有Java的springboot流畅的。我不太推荐大家去学Flask框架，也不太推荐大家用Python写Web项目。Python还是用来处理机器学习、数据分析、爬虫之类的任务比较合适。为什么这么说呢，首先Flask它的生态并不好，你遇到了困难不一定能查到解决的方法。**(翻页)**最直观来看就是下面这张图，大家一般学习都在B站上学习嘛，这是我在B站上搜索Flask与Java的Springboot得到的结果，大家看播放量就知道了，最火的几个视频播放量是两三百万和二三十万，Java的是两三百万，Python的是二三十万，差了有10倍。**(翻页)**

其次就是在国内，如果想用Python找后端开发的岗位，可能并不合适。我也和许多在字节、阿里实习的学长聊过天，我得到的信息是在字节90%的后端是Go语言写的，而Java在行业内的需求是最大的，中小厂用的多，大厂需求虽然没中小厂那么多，不过像腾讯、阿里也有很多岗位。而Python后端岗位确实就业比较难。

Python做后端生态不好，工具少、重复造轮子。**(翻页)**就比如这是我之前用Springboot写的接口返回的json数据，可以发现嵌套的特别多，红框圈起来的位置，每有一个红框就嵌套一次。这个json数据嵌套了三四次，这种定制化返回的数据接口，如果用Python来写，写起来真的很痛苦。造成这样的原因是没有特别多的Python工具帮助你简化开发，Python的web框架在国内用的人不多，没有那么多大佬来你造轮子，写一些开源工具。**(翻页)**

## 数据库支持

但是Flask还是有用武之地的。比如Python作为你的第一语言，或者之后的各种大作业，就比如数据库交的一些web项目，如果你要选择用Python来做后端的话，Flask一定是不错的选择，因为业务逻辑没有特别的复杂。再包括上一周期末验收的时候有同学就使用Flask作为后端接口，辅助机器学习项目。这些都是很方便的。



我的分享到此结束，谢谢大家。





https://dormousehole.readthedocs.io/en/latest/ Flask

http://www.pythondoc.com/Flask-RESTful/quickstart.html Flask-Restful

http://www.pythondoc.com/flask-sqlalchemy/quickstart.html Flask-SQLAlchemy





